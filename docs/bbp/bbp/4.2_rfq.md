4.2 Request for Quotation (RFQ)
Template Ref: _txn_03 (Medium/Complex Transaction)
4.2.1 Business Purpose
The Request for Quotation (RFQ) is a controlled vendor bidding process initiated from an approved Purchase Requisition (PR) or directly by procurement, to collect, compare, and finalize commercial offers before awarding a Purchase Order (PO).
Goals:
Ensure competitive pricing and transparent vendor selection.
Capture item-level quotes for price, taxes, delivery, warranty, and terms.
Support multi-vendor, multi-round negotiations with full audit history.


Allow both:


Organizations that mandate PR → RFQ → PO (strict governance)


Organizations that skip RFQ for low-risk/low-value purchases


Provide a defendable evaluation trail for internal and external audits.


Hybrid behavior (config-driven):
RFQ can be enabled/disabled per:


Company


Location


Procurement Category (CAPEX, OPEX, Services, Strategic Items)


Value Threshold (e.g., RFQ required above ₹X)


RFQ can be:


Optional — buyer may create RFQ from PR or PO draft.


Mandatory — for certain categories/thresholds before PO can be approved.

4.2.2 Data Model
A) RFQ Header (request_for_quotation)
Represents one RFQ event, grouping items and vendors under a common negotiation.

Field
Type
Required
Description
id
UUID
Yes
Primary key
company_id
FK
Yes
Company scope
rfq_number
String(30)
Yes
Human-readable RFQ No (per sequence)
rfq_status
Enum
Yes
DRAFT, PUBLISHED, RESPONSES_PENDING, UNDER_EVALUATION, AWARDED, CANCELLED, CLOSED
created_by_user_id
FK (User)
Yes
Buyer who created RFQ
created_location_id
FK (Location)
No
Location/department raising RFQ (optional)
linked_pr_id
FK (PR Header)
No
Optional reference to a single PR (when RFQ from PR)
rfq_title
String(200)
No
Short description (e.g., "Q1 FMCG Replenishment")
category_code
String(50)
No
Procurement category (for rules)
issue_date
Date
Yes
Date RFQ is published/sent
response_due_datetime
DateTime
Yes
Cut-off for vendor submissions
expected_award_date
Date
No
Expected date of final vendor award
currency_code
String(10)
Yes
RFQ base currency (ISO)
negotiation_round
Integer
Yes
Current round number, default 1
max_rounds_allowed
Integer
No
Configurable max negotiation rounds
notes_internal
Text
No
Internal notes (not visible to vendors)
terms_and_conditions
Text
No
Standard RFQ T&Cs (visible to vendors)
approval_required
Boolean
Yes
Whether RFQ award needs approval (from config)
approved_by_user_id
FK (User)
No
Approval for award, if required
approved_at
DateTime
No
Timestamp of award approval
cancelled_by_user_id
FK (User)
No
Who cancelled RFQ
cancelled_at
DateTime
No
Cancelled timestamp
created_at
DateTime
Auto


updated_at
DateTime
Auto




Note: linked_pr_id is optional. RFQ may aggregate lines from multiple PRs or be created standalone; link logic is explained via RFQ line mappings.

B) RFQ Vendor (rfq_vendor)
Defines the vendor panel participating in this RFQ.

Field
Type
Required
Description
id
UUID
Yes
Primary key
request_for_quotation_id
FK (RFQ Header)
Yes
Parent RFQ
supplier_id
FK (Supplier)
Yes
Vendor invited to RFQ
invite_status
Enum
Yes
INVITED, VIEWED, RESPONDED, DECLINED, NO_RESPONSE
invite_channel
Enum
Yes
PORTAL, EMAIL_PDF, EDI_API
contact_email
String(200)
No
Email used for invite
contact_phone
String(30)
No
Optional
response_submitted_at
DateTime
No
When vendor completed submission
vendor_notes_internal
Text
No
Buyer-only notes on vendor
vendor_blocked_for_award
Boolean
Yes
If true, cannot be awarded (e.g., compliance risk)


C) RFQ Line (rfq_line)
Represents what the buyer is requesting quotes for (items/services).

Field
Type
Required
Description
id
UUID
Yes
Primary key
request_for_quotation_id
FK (RFQ Header)
Yes
Parent RFQ
pr_line_id
FK (PR Line)
No
Optional link back to PR line
item_id
FK (Item)
Yes
Parent item
item_variant_id
FK (Item Variant)
Yes
SKU being quoted
uom_id
FK (UOM)
Yes
UOM requested
requested_qty
Decimal
Yes
Quantity buyer wants quote for
delivery_location_id
FK (Location)
Yes
Where goods/services will be delivered
required_by_date
Date
No
Required delivery date (line-level)
line_specs
Text
No
Specification/details (especially for services/Capex)
line_status
Enum
Yes
OPEN, PARTIALLY_AWARDED, FULLY_AWARDED, CANCELLED


D) RFQ Vendor Quote Line (rfq_vendor_quote_line)
Represents the vendor’s quoted response for each RFQ line.

Field
Type
Required
Description
id
UUID
Yes
Primary key
rfq_vendor_id
FK (RFQ Vendor)
Yes
Vendor participating
rfq_line_id
FK (RFQ Line)
Yes
Line being quoted
quoted_qty
Decimal
Yes
Quantity vendor is willing to supply
unit_price
Decimal
Yes
Quoted unit price (pre-tax)
discount_percent
Decimal
No
Optional discount %
tax_percent
Decimal
No
Tax rate if applicable
freight_charge
Decimal
No
Freight/logistics charge
other_charges
Decimal
No
Any other line charges
total_quoted_value
Decimal
Yes
Computed or stored total value
delivery_lead_time_days
Integer
No
Lead time in days
warranty_months
Integer
No
Warranty coverage
payment_terms_override
String(200)
No
Any special payment terms vendor offers
validity_date
Date
No
Quote validity date
vendor_line_notes
Text
No
Vendor remarks for this line
evaluation_score
Decimal
No
Calculated score for this line (multi-criteria)
is_awarded
Boolean
Yes
True if this vendor-line combination is selected for PO
award_qty
Decimal
No
Quantity awarded from quoted_qty
award_reason_internal
Text
No
Buyer’s award reasoning (for audit)


E) Config / Control (Conceptual)
Logical controls for RFQ behavior (in Config / YAML / system params):
rfq_enabled (Company, Location, Category)


rfq_mandatory_threshold_amount (per Company/Category)


rfq_min_vendors_required (default 2 or 3)


rfq_auto_approve_award_if_savings_above_x_percent


rfq_scoring_model (per Category: Price vs Non-price weight)


rfq_allowed_invite_channels (PORTAL, EMAIL_PDF, EDI_API)

4.2.3 UI / UX Requirements
Screen Name: Request for Quotation
 Path: Procurement → RFQ

A) RFQ List
Columns:
RFQ Number


RFQ Title


Category


Created Date


Created By


Status


Response Due Date


Number of Vendors Invited / Responded


Linked PR (Yes/No or PR Number)


Filters:
Date range (Created / Response due)


Status (DRAFT, PUBLISHED, UNDER_EVALUATION, AWARDED, CLOSED)


Category


Created By


Linked PR Number


Vendor (RFQ where a specific supplier was invited)


Actions:
Create RFQ


View / Edit RFQ (based on status & role)


Publish / Send RFQ to vendors


Close RFQ (without award)


Cancel RFQ (with reason)



B) RFQ Header Form
Sections:
General


RFQ Number (auto)


RFQ Title


Category


Created By (auto)


Created Location (optional)


Linked PR (optional lookup)


Currency


Issue Date


Response Due Date & Time


Expected Award Date


Internal Notes (not visible to vendors)


Terms & Conditions


Standard RFQ T&Cs (editable text or template)


Attachments (spec docs, drawings, SOW PDFs)


System Info (read-only)


RFQ Status


Negotiation Round


Approval Required (Yes/No)


Approved By / At (once awarded)


Cancelled By / At (if cancelled)



C) Vendor Panel Management
Within RFQ:
Add vendors (search from Supplier master)


Show vendor-level status:


Invited


Viewed RFQ


Responded


Declined


No Response


Fields (inline grid):
Vendor Name


Contact Email


Invite Channel


Compliance Status (read-only flag from Supplier master)


Blocked for Award? (checkbox – enforced at evaluation stage)


Actions:
Send/Resend invitation


Mark manual response (if vendor sends offline quote)


View vendor’s submitted quote summary



D) RFQ Line Entry
Grid:
Item Code / Name lookup


SKU / Variant selector


UOM


Requested Qty


Delivery Location


Required By Date


Specs / Description field


Features:
Add line manually or import from:


PR lines


Item list template (for repeated RFQs)


Edit/delete lines while RFQ is in DRAFT or PUBLISHED (with constraints).


Show how many vendors quoted per line (summary).



E) Vendor Quote Capture View
Two modes:
Vendor Portal View (external-facing – conceptual):


Vendors see only items + fields they can quote.


Cannot see other vendors’ quotes.


Can save draft, submit final, or withdraw.


Internal Buyer Entry Mode:


Internal buyer inputs vendor quotes (for email/phone-based quotes).


Fields align with rfq_vendor_quote_line data model.

F) Comparison / Evaluation View
Central screen for procurement analysis:
Columns (per vendor, per item line):


Quoted Unit Price


Discount


Net Price


Taxes


Freight


Total


Lead Time


Warranty


Score (auto-calculated)


Features:


Highlight lowest price per line.


Show weighted score per vendor & per RFQ.


Allow marking is_awarded + award_qty for one or more vendors per line.


Capture award_reason_internal.



4.2.4 Validation Rules
Header-level:
rfq_number unique per company.


response_due_datetime > issue_date.


At least one RFQ Line and one RFQ Vendor before publishing.


rfq_mandatory_threshold_amount rule:


If RFQ is required for a PR/category/value, then PO cannot skip RFQ.


Vendor-level:
Vendor must exist and be ACTIVE/APPROVED in Supplier master.


If vendor is marked as BLOCKED in Supplier master:


Cannot be added to RFQ vendor panel.


If vendor_blocked_for_award = true in RFQ:


System must prevent awarding to this vendor even if they are lowest.


Quote-level:
quoted_qty > 0 and should not exceed a configured max-relative difference vs requested_qty (e.g., not more than 2x requested, configurable).


unit_price ≥ 0.


total_quoted_value must be consistent with qty * net price + charges (either calculated or validated).


validity_date must be ≥ RFQ award date (or at least response due date).


Award-level:
At least one vendor line awarded per line to consider line FULLY_AWARDED.


award_qty per RFQ line must not exceed requested_qty.


If rfq_min_vendors_required is configured (e.g., 2), but only 1 vendor responded:


Either:


Block award, or


Require justification comment (configurable).



4.2.5 Workflow
Hybrid, config-driven RFQ workflow:
Default state transitions:
DRAFT
 → Publish/Send RFQ → PUBLISHED
 → Vendors submit → RESPONSES_PENDING / UNDER_EVALUATION
 → Award decision → AWARDED
 → Converted to PO(s) → CLOSED


Alternative transitions:
DRAFT → Cancel → CANCELLED


PUBLISHED → Cancel (if no responses yet) → CANCELLED


UNDER_EVALUATION → Cancel without award → CANCELLED


Within evaluation:
Multiple negotiation rounds:


UNDER_EVALUATION (Round 1)
 → Create new negotiation round (update negotiation_round += 1)
 → Notify vendors of updated conditions
 → Stay in UNDER_EVALUATION until final decision.


Approval integration:
If approval_required = true:


Award decision triggers an RFQ Award Approval step before RFQ status becomes AWARDED.


Only approvers with appropriate role/limit can approve award.


Link to PO:
Once awarded:


Selected vendor + item lines are available for PO creation.


4.3 Purchase Order spec will define how it consumes:


rfq_vendor_quote_line as source for PO price and terms.

4.2.6 Module Metadata & Build Steps
Module Metadata

module_type: transaction
complexity: medium_to_complex

template_ref: _txn_03

extension_allowed: true

depends_on:
  - Company
  - Locations
  - Item Master
  - Item Variants
  - Units of Measure
  - Suppliers
  - Purchase Requisition (optional linkage)
  - Users / Roles
  - Procurement Configuration

used_by:
  - Purchase Order (4.3)
  - Vendor Performance (4.9)
  - Procurement Analytics (RFQ savings, vendor competitiveness)
  - Audit & Compliance

notes: >
  RFQ is a configurable, optional step in the procurement workflow.
  It can be bypassed for low-value / low-risk purchases or enforced
  for strategic categories and thresholds. It must provide a transparent,
  auditable basis for vendor selection and pricing decisions.


Build Steps (for AI / Implementation Engine)
You are building a Medium-to-Complex Transaction module for a Retail ERP.

Module: Request for Quotation (RFQ)
Template: _txn_03

Requirements:

1) Backend (Django + DRF):

   Models:
   - request_for_quotation (RFQ header)
   - rfq_vendor (RFQ vendor panel)
   - rfq_line (items/services to be quoted)
   - rfq_vendor_quote_line (vendor responses per line)

   Serializers:
   - Nested serializers where appropriate (e.g. RFQ header with lines).
   - Vendor quote serializer for vendor portal / internal entry.

   Viewsets & Endpoints:
   - CRUD for RFQ header and lines
   - Manage vendor panel (add/remove vendors)
   - RFQ lifecycle actions:
     - publish_rfq
     - close_rfq
     - cancel_rfq
   - Vendor response submission endpoints:
     - submit_vendor_quote
     - revise_vendor_quote (for new negotiation round)
   - Evaluation & award actions:
     - calculate_scores (server-side scoring logic)
     - mark_awarded (per vendor-line with award_qty and reason)
   - Filters:
     - By company, status, created_by, date range, category, vendor.

   Business Rules:
   - Enforce preconditions and validation defined in section 4.2.4.
   - Respect configuration flags (rfq_enabled, mandatory thresholds,
     min_vendors_required, scoring model).

2) Frontend (React + Vite + Tailwind):

   Screens:
   - RFQ List:
     - Table with filters, sorting, and status badges.
     - Actions: create, view, edit (limited by status), publish, cancel.
   - RFQ Edit:
     - Header form (general info, dates, T&Cs, internal notes).
     - Tabs:
       - Lines: grid for rfq_line management.
       - Vendors: panel for rfq_vendor management.
       - Evaluation: comparison matrix and award UI (read-only until
         responses are present).
   - Vendor Quote Capture (internal buyer view):
     - Form/grid to capture quotes from vendors who don't use portal.

   Behavior:
   - Disable editing of sensitive header fields once RFQ is published.
   - Allow add/remove of vendors in specific statuses only (DRAFT, PUBLISHED).
   - Evaluation tab unlocked when at least one vendor has responded.
   - Visual highlight of best quote per line (lowest price / highest score).

3) Integration:

   - RFQ from PR:
     - UI action on PR to "Create RFQ" that pre-populates rfq_line from
       PR lines.
   - RFQ to PO:
     - Provide API/UI hooks for 4.3 Purchase Order to:
       - Fetch awarded vendor + item lines with final agreed prices,
         quantities, and terms.

   - Config:
     - Honour system-wide and category-level RFQ settings (enabled/disabled,
       thresholds, scoring model).

4) Security & Roles:

   - Separate roles for:
     - RFQ Creator / Buyer
     - RFQ Approver (for award approval)
     - RFQ Viewer (read-only)
   - Vendor response endpoints restricted to vendor accounts (vendor portal).

Ensure the implementation strictly follows the data model, workflow,
UI requirements, and validation rules defined in the RFQ specification.




